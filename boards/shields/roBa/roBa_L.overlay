#include "roBa.dtsi"

&kscan0 {
        col-gpios
            = <&xiao_d 10 GPIO_ACTIVE_HIGH>
            , <&xiao_d 9 GPIO_ACTIVE_HIGH> 
            , <&xiao_d 8 GPIO_ACTIVE_HIGH> 
            , <&xiao_d 7 GPIO_ACTIVE_HIGH> 
            , <&gpio0 10 GPIO_ACTIVE_HIGH>
            , <&gpio0 9 GPIO_ACTIVE_HIGH>
            ;
};

&left_encoder {
    status = "okay";
    // 12 detents, but hardware generates ~4 pulses per detent; match that so
    // each physical click reports once.
    steps = <12>;
    resolution = <48>;
};

/* Ajuste de sensibilidade do encoder:
 * 1 clique físico = exatamente 1 passo lógico (LEFT/RIGHT)
 * Hardware gera ~48 pulsos por volta (4 por clique), então alinhe o número de
 * "triggers" com esses pulsos para 1 evento por clique físico.
 */
&sensors {
    triggers-per-rotation = <48>;
};
